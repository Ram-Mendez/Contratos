<div class="container-fluid">
  <div class="button-container d-flex justify-content-center align-items-center mb-2">
    <p-button
      (click)="editUser()"
      [disabled]="!isUserSelected"
      severity="success"
      class="m-2"> Edit &nbsp; <span class="pi pi-pencil"></span>
    </p-button>
    <p-button
      (click)="deleteUser()"
      [disabled]="!isUserSelected"
      severity="danger"
      class="m-2"> Delete &nbsp; <span class="pi pi-trash"></span>
    </p-button>
  </div>

  <div class="card">
    <p-toast position="top-center"></p-toast>
    <p-table [value]="users" selectionMode="single" (onRowSelect)="onRowSelect($event)"
             (onRowUnselect)="onRowUnselect($event)">
      <ng-template pTemplate="header">
        <tr>
          <th pSortableColumn="id">Id
            <p-sortIcon field="id"></p-sortIcon>
          </th>
          <th pSortableColumn="name">Name
            <p-sortIcon field="name"></p-sortIcon>
          </th>
          <th pSortableColumn="lastName">Lastname
            <p-sortIcon field="lastName"></p-sortIcon>
          </th>
          <th pSortableColumn="cifDni">C.I.F / D.N.I
            <p-sortIcon field="cifDni"></p-sortIcon>
          </th>
          <th pSortableColumn="email">Email
            <p-sortIcon field="email"></p-sortIcon>
          </th>
          <th pSortableColumn="phone">Phone
            <p-sortIcon field="phone"></p-sortIcon>
          </th>
          <th pSortableColumn="roles">Roles
            <p-sortIcon field="roles"></p-sortIcon>
          </th>
          <!-- Añade aquí las columnas adicionales que necesites -->
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-user>
        <tr [pSelectableRow]="user">
          <td>{{ user.id }}</td>
          <td>{{ user.name }}</td>
          <td>{{ user.lastName }}</td>
          <td>{{ user.dni }}</td>
          <td>{{ user.email }}</td>
          <td>{{ user.phone }}</td>
          <td>
            {{ mapRoles(user.roles) }}
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>

<p-confirmDialog></p-confirmDialog>
