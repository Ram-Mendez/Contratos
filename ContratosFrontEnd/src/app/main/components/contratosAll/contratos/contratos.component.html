<div class="button-container">
  <p-button
    (click)="crearContrato()"
    severity="primary"
    class="m-2 btn-uniform"> <span class="pi pi-plus"></span> &nbsp; New
  </p-button>
  <p-button
    (click)="editContrato()"
    [disabled]="!isContractSelected"
    severity="success"
    class="m-2 btn-uniform"> Edit &nbsp; <span class="pi pi-pencil"></span>
  </p-button>
  <p-button
    (click)="deleteContrato()"
    [disabled]="!isContractSelected"
    severity="danger"
    class="m-2 btn-uniform"> Delete &nbsp; <span class="pi pi-trash"> </span>
  </p-button>
</div>


<div class="card">
  <p-toast position="top-center"></p-toast>
  <p-table
    [value]="contratos"
    selectionMode="single"
    (onRowSelect)="onRowSelect($event)"
    (onRowUnselect)="onRowUnselect($event)">

    <ng-template pTemplate="header">
      <tr>
        <th pSortableColumn="id"> Id <p-sortIcon field="id"></p-sortIcon></th>
        <th pSortableColumn="name">Name <p-sortIcon field="name"></p-sortIcon></th>
        <th pSortableColumn="creationDate">Creation Date <p-sortIcon field="creationDate"></p-sortIcon></th>
        <th pSortableColumn="contractingEntity.name">Contracting Entity <p-sortIcon field="contractingEntity.name"></p-sortIcon></th>
        <th pSortableColumn="authorityEntity.name">Authority Entity <p-sortIcon field="authorityEntity.name"></p-sortIcon></th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-contrato>
      <tr [pSelectableRow]="contrato">
        <td>{{ contrato.id }}</td>
        <td>{{ contrato.name }}</td>
        <td>{{ contrato.creationDate | date:'medium' }}</td>
        <td>{{ contrato.contractingEntity.name }}</td>
        <td>{{ contrato.authorityEntity.name }}</td>
      </tr>
    </ng-template>
  </p-table>
</div>
<p-confirmDialog></p-confirmDialog>
